"use strict";(self.webpackChunktonswap_web=self.webpackChunktonswap_web||[]).push([[245],{17099:function(e,t,n){var i=n(15833),a=n(75859);t.Z=function(e){var t=e.height,n=e.bgcolor,r=void 0===n?"rgba(255,255,255, 0.15)":n,o=e.variant,s=e.width,l=e.style,c=void 0===l?{}:l,d=e.borderRadius,h=void 0===d?6:d;return(0,a.jsx)(i.Z,{style:c,height:t,sx:{bgcolor:r,borderRadius:h},variant:o,width:s})}},16131:function(e,t,n){n.r(t),n.d(t,{default:function(){return K}});var i=n(29439),a=n(74165),r=n(15861),o=n(71321),s=n(39910),l=n(62399),c=n(7223),d=n(68963),h=n(79711),u=n(80124),m=n(77563),f=n(45022),g=n(3789),p=n(24713),x=n.p+"static/media/default-token-image.7f04508e9bb03b76f258.png",v=n(18366),Z=n(55204),b=n(17099),w=n(75859),j=(0,v.Z)(Z.Z)({display:"flex",flexDirection:"column",alignItems:"center","& .btns":{display:"flex",justifyContent:"center",gap:20}}),k=(0,v.Z)(Z.Z)({width:"100%",background:"rgba(0,0,0, 0.05)",marginTop:30,padding:20,borderRadius:10,maxWidth:300}),y="rgba(0,0,0, 0.08)";var C=function(){return(0,w.jsxs)(j,{children:[(0,w.jsx)(b.Z,{bgcolor:y,style:{marginBottom:10},height:30,width:"40%"}),(0,w.jsxs)(Z.Z,{className:"btns",children:[(0,w.jsx)(b.Z,{bgcolor:y,height:40,width:120,borderRadius:2}),(0,w.jsx)(b.Z,{bgcolor:y,height:40,width:120,borderRadius:2})]}),(0,w.jsxs)(k,{children:[(0,w.jsx)(b.Z,{bgcolor:y,height:25,width:"50%",style:{marginBottom:10}}),(0,w.jsx)(b.Z,{bgcolor:y,height:25,width:"50%"})]}),(0,w.jsx)(b.Z,{bgcolor:y,height:40,width:"30%",style:{marginTop:30}})]})},S=n(20085),R=(0,v.Z)(l.Z)({width:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:30}),N=(0,v.Z)(l.Z)({maxWidth:550,width:"100%",paddingTop:60,paddingBottom:60,marginLeft:"auto",marginRight:"auto"}),W=(0,v.Z)(l.Z)({display:"flex",alignItems:"center","& img":{width:27,height:27,objectFit:"contain"},"& .pair-name":{marginLeft:10,"& p":{fontWeight:600,fontSize:18}}}),z=(0,v.Z)(l.Z)({display:"flex",alignItems:"center",width:"100%",gap:20,flexDirection:"column"}),F=(0,v.Z)(l.Z)({display:"flex",alignItems:"center",justifyContent:"center",gap:10,"& .base-button":{width:"120px",height:"unset"},"& .base-button-content":{fontSize:13}}),T=(0,v.Z)(l.Z)({width:"100%",background:"rgba(0,0,0, 0.05)",marginTop:30,padding:20,borderRadius:10,maxWidth:300,"& .reserves-title":{fontSize:14,fontWeight:600},"& .flex":{display:"flex",flexDirection:"column",gap:15,paddingTop:15}}),I=(0,v.Z)(l.Z)({width:"100%",textAlign:"center","& .tvl-title":{fontSize:18,fontWeight:600,marginBottom:5},"& .tvl-amount":{fontSize:15,fontWeight:500}}),M=(0,v.Z)(l.Z)({display:"flex",justifyContent:"space-between","& .token-name":{fontSize:14,fontWeight:600,marginLeft:10},"& .token-image":{width:20,height:20,objectFit:"contain"},"& .token-left":{display:"flex",alignItems:"center"},"& .reserve":{fontSize:14,fontWeight:500}}),A=(0,v.Z)(l.Z)({display:"flex",alignItems:"center",justifyContent:"center",gap:10,"& p":{fontSize:20,textAlign:"center",fontWeight:600}}),B=n(5922),E=(0,v.Z)(l.Z)({display:"flex",justifyContent:"flex-start",alignItems:"center","& .token-name":{fontSize:14,fontWeight:600,marginLeft:10},"& .token-image":{width:20,height:20,objectFit:"contain"}});var L=function(e){var t=e.image,n=e.name;return(0,w.jsxs)(E,{className:"token-preview",children:[(0,w.jsx)("img",{className:"token-image",src:t||x}),(0,w.jsx)(s.Z,{className:"token-name",children:n.toUpperCase()})]})},q=n(17464),D=n(62616),O=n(18740),U=n(55195),X=function(e,t){var n=t.find((function(t){return t.ammMinter===e}));if(n)return{name:n.name,symbol:n.displayName,image:n.image,decimals:n.decimals}},_=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t,n){var i,r,o,s,l,c,d,h,u,p,x;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=f.Address.parse(t),e.next=3,(0,m.E3)(i);case 3:if(r=e.sent){e.next=6;break}throw new Error("Failed to find pool");case 6:return o=r.jettonWalletAddress,e.next=9,(0,g.wG)("ton",r.tonReserves.mul(new D.BN(2)).toString());case 9:if(s=e.sent,l=X(i.toFriendly(),n)){e.next=23;break}return e.next=14,(0,m.GW)(o);case 14:return c=e.sent,e.next=17,(0,m.wl)(c.jettonMaster);case 17:d=e.sent,h=d.name,u=d.symbol,p=d.image,x=d.decimals,l={name:h,symbol:u,image:p,decimals:x};case 23:if(l){e.next=25;break}throw new Error("Failed to get jetton data");case 25:return e.abrupt("return",{token:{name:l.name,image:l.image,symbol:l.symbol,decimals:l.decimals},pool:{tonReserves:Number((0,B.wE)(r.tonReserves,9)).toFixed(2),tokenReserves:Number((0,B.wE)(r.tokenReserves,l.decimals)).toFixed(2),tvl:s,address:t}});case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=function(e){var t=e.image,n=e.name,i=e.reserves;return(0,w.jsxs)(M,{children:[(0,w.jsx)(L,{name:n.toUpperCase(),image:t}),(0,w.jsx)(s.Z,{className:"reserve",children:i})]})},K=function(){var e=(0,O.Z)(),t=(0,h.UO)().id,n=(0,d.useState)(!0),m=(0,i.Z)(n,2),f=m[0],g=m[1],v=(0,d.useState)(),Z=(0,i.Z)(v,2),b=Z[0],j=Z[1],k=(0,d.useState)(),y=(0,i.Z)(k,2),M=y[0],E=y[1],L=(0,q.u)().tokens,D=(0,U.$)().t;return(0,d.useEffect)((function(){t&&(0,r.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(t,L);case 3:n=e.sent,j(n.token),E(n.pool),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:return e.prev=10,g(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,8,10,13]])})))()}),[t,L]),f?(0,w.jsx)(o.Z,{in:!0,children:(0,w.jsx)(N,{children:(0,w.jsx)(C,{})})}):b&&M?(0,w.jsx)(o.Z,{in:!0,children:(0,w.jsxs)(N,{children:[(0,w.jsxs)(z,{children:[(0,w.jsxs)(W,{children:[(0,w.jsx)("img",{src:b.image||x}),(0,w.jsx)("img",{src:p.Z}),(0,w.jsx)(l.Z,{className:"pair-name",children:(0,w.jsx)(s.Z,{children:D("token-ton",{token:b.name.toUpperCase()})})})]}),(0,w.jsxs)(F,{children:[(0,w.jsx)(c.Kk,{onClick:function(){return e(u.Z.manageLiquidity.navigateToAddLiquidity.replace(":id",b.name))},children:D("add-liquidity")}),(0,w.jsx)(c.Kk,{onClick:function(){return e(u.Z.swap.buy.replace(":id",b.name))},children:D("buy-pool")})]})]}),(0,w.jsxs)(R,{children:[(0,w.jsxs)(T,{children:[(0,w.jsx)(s.Z,{className:"reserves-title",children:D("tokens-locked")}),(0,w.jsxs)(l.Z,{className:"flex",children:[(0,w.jsx)(G,{name:b.name,image:b.image,reserves:(0,B.jS)(M.tokenReserves)}),(0,w.jsx)(G,{name:"TON",image:p.Z,reserves:(0,B.jS)(M.tonReserves)})]})]}),(0,w.jsxs)(I,{children:[(0,w.jsx)(s.Z,{className:"tvl-title",children:"TVL"}),(0,w.jsxs)(s.Z,{className:"tvl-amount",children:[" ","$".concat((0,B.jS)(M.tvl))]})]})]})]})}):(0,w.jsx)(N,{children:(0,w.jsxs)(A,{children:[(0,w.jsx)(S.Z,{}),(0,w.jsx)(s.Z,{children:D("failed-pool-info")})]})})}},17464:function(e,t,n){n.d(t,{_:function(){return s},u:function(){return o}});var i=n(68963),a=n(93431),r=n(79869);function o(){return(0,a.v9)((function(e){return e.tokens}))}var s=function(){var e=o().tokens,t=(0,a.I0)();return{addToken:(0,i.useCallback)((function(e){t((0,r.Z)(e))}),[t]),getTokenById:(0,i.useCallback)((function(t){return e.find((function(e){return e.tokenMinter===t}))}),[e])}}},20085:function(e,t,n){var i=n(64836);t.Z=void 0;var a=i(n(43563)),r=n(75859),o=(0,a.default)((0,r.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline");t.Z=o},15833:function(e,t,n){n.d(t,{Z:function(){return F}});var i=n(30168),a=n(63366),r=n(87462),o=n(68963),s=n(38621),l=n(66227),c=n(94217);function d(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function h(e){return parseFloat(e)}var u=n(69944),m=n(75174),f=n(62657),g=n(90386),p=n(60728);function x(e){return(0,p.Z)("MuiSkeleton",e)}(0,g.Z)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var v,Z,b,w,j,k,y,C,S=n(75859),R=["animation","className","component","height","style","variant","width"],N=(0,l.F4)(j||(j=v||(v=(0,i.Z)(["\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"])))),W=(0,l.F4)(k||(k=Z||(Z=(0,i.Z)(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"])))),z=(0,m.ZP)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!1!==n.animation&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})((function(e){var t=e.theme,n=e.ownerState,i=d(t.shape.borderRadius)||"px",a=h(t.shape.borderRadius);return(0,r.Z)({display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:(0,u.Fq)(t.palette.text.primary,"light"===t.palette.mode?.11:.13),height:"1.2em"},"text"===n.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:"".concat(a).concat(i,"/").concat(Math.round(a/.6*10)/10).concat(i),"&:empty:before":{content:'"\\00a0"'}},"circular"===n.variant&&{borderRadius:"50%"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},n.hasChildren&&{"& > *":{visibility:"hidden"}},n.hasChildren&&!n.width&&{maxWidth:"fit-content"},n.hasChildren&&!n.height&&{height:"auto"})}),(function(e){return"pulse"===e.ownerState.animation&&(0,l.iv)(y||(y=b||(b=(0,i.Z)(["\n      animation: "," 1.5s ease-in-out 0.5s infinite;\n    "]))),N)}),(function(e){var t=e.ownerState,n=e.theme;return"wave"===t.animation&&(0,l.iv)(C||(C=w||(w=(0,i.Z)(["\n      position: relative;\n      overflow: hidden;\n\n      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */\n      -webkit-mask-image: -webkit-radial-gradient(white, black);\n\n      &::after {\n        animation: "," 1.6s linear 0.5s infinite;\n        background: linear-gradient(\n          90deg,\n          transparent,\n          ",",\n          transparent\n        );\n        content: '';\n        position: absolute;\n        transform: translateX(-100%); /* Avoid flash during server-side hydration */\n        bottom: 0;\n        left: 0;\n        right: 0;\n        top: 0;\n      }\n    "]))),W,(n.vars||n).palette.action.hover)})),F=o.forwardRef((function(e,t){var n=(0,f.Z)({props:e,name:"MuiSkeleton"}),i=n.animation,o=void 0===i?"pulse":i,l=n.className,d=n.component,h=void 0===d?"span":d,u=n.height,m=n.style,g=n.variant,p=void 0===g?"text":g,v=n.width,Z=(0,a.Z)(n,R),b=(0,r.Z)({},n,{animation:o,component:h,variant:p,hasChildren:Boolean(Z.children)}),w=function(e){var t=e.classes,n=e.variant,i=e.animation,a=e.hasChildren,r=e.width,o=e.height,s={root:["root",n,i,a&&"withChildren",a&&!r&&"fitContent",a&&!o&&"heightAuto"]};return(0,c.Z)(s,x,t)}(b);return(0,S.jsx)(z,(0,r.Z)({as:h,ref:t,className:(0,s.Z)(w.root,l),ownerState:b},Z,{style:(0,r.Z)({width:v,height:u},m)}))}))}}]);