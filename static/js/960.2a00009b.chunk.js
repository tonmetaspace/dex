"use strict";(self.webpackChunktonswap_web=self.webpackChunktonswap_web||[]).push([[960],{47960:function(e,t,n){n.r(t),n.d(t,{default:function(){return U}});var i=n(30357),r=n(45366),o=n(18740),a=n(68963),u=n(55195),s=n(79711),d=n(80124),c=n(30371),l=n(94361),v=n(74650),f=n(88027),m=n(19867),p=n(71545),Z=n(5922),k=n(74165),x=n(15861),T=n(29439),y=n(24862),h=n(63317),g=n(77563),A=n(84672),q=n(75),I=n(70123),L=n(45022),M=n(87673),j=n(75859),R=function(){var e=(0,m.x)(),t=e.srcTokenAmount,n=e.destTokenAmount,i=e.selectedToken,r=(0,a.useState)(!1),o=(0,T.Z)(r,2),s=o[0],d=o[1],c=(0,a.useState)(!0),v=(0,T.Z)(c,2),f=v[0],p=v[1],Z=(0,u.$)().t,R=function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t,n,r,o){var a,u;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==i&&void 0!==i&&i.name){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,g.kI(null===i||void 0===i?void 0:i.tokenMinter);case 4:if("0"!=(a=e.sent).tokenReserves.toString()||"0"!=a.tonReserves.toString()){e.next=7;break}return e.abrupt("return",0);case 7:return e.next=9,g.hZ(t,n,r,o);case 9:return u=e.sent,e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)})));return function(t,n,i,r){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){if(i){var e=function(){var e=(0,x.Z)((0,k.Z)().mark((function e(){var t;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.E3(L.Address.parse(i.ammMinter),i.ammVersion);case 3:t=e.sent,(0,L.fromNano)(t.tokenReserves),(0,L.fromNano)(t.tonReserves),t.tokenReserves.isZero()||t.tonReserves.isZero()||d(!0),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:return e.prev=11,p(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,9,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}}),[i]);return(0,A.Z)(),!i||f?(0,j.jsx)(M.Z,{}):(0,j.jsx)(h.Z,{icon:(0,j.jsx)(I.Z,{}),getAmountFunc:R,getBalances:function(){return Promise.all([g.gF(),g.yX(i)])},srcToken:y.nS,getTxRequest:function(){if(l.Z.addLiquidityTransaction(),i)return g.El(null===i||void 0===i?void 0:i.tokenMinter,t,n)},destToken:i,submitButtonText:Z("add-ton-liquidity",{token:null===i||void 0===i?void 0:i.displayName}),refreshAmountsOnActionChange:!0,actionCategory:q.hX.MANAGE_LIQUIDITY,actionType:q.Us.ADD_LIQUIDITY,gasFee:g.et.ADD_LIQUIDITY,disableInputDependency:!s})},b=n(99307),D=function(){var e=(0,m.x)(),t=e.srcTokenAmount,n=e.selectedToken,i=(0,u.$)().t;return(0,A.Z)(),n?(0,j.jsx)(h.Z,{icon:(0,j.jsx)(b.Z,{}),getTxRequest:function(){return l.Z.removeLiquidityTransaction(),g.WU(n.tokenMinter,t)},getAmountFunc:g.hZ,getBalances:function(){return g.xN(n.tokenMinter)},srcToken:y.nS,destToken:n,submitButtonText:i("remove-ton-liquidity",{token:null===n||void 0===n?void 0:n.displayName}),refreshAmountsOnActionChange:!0,actionCategory:q.hX.MANAGE_LIQUIDITY,actionType:q.Us.REMOVE_LIQUIDITY,gasFee:g.et.REMOVE_LIQUIDITY}):null};var U=function(){var e=(0,m.x)().selectedToken,t=(0,o.Z)(),n=(0,s.UO)(),k=(0,Z.xB)(n),x=(0,v.Kr)().onOperationTypeChange,T=(0,u.$)().t;(0,r.Z)((function(){x(f.C8.MANAGE_LIQUIDITY)}));var y=(0,a.useMemo)((function(){return e?[{text:T("add-liquidity"),method:function(){l.Z.goToAddLiquidity(),t(d.Z.manageLiquidity.navigateToAddLiquidity.replace(":id",null===e||void 0===e?void 0:e.tokenMinter))}},{text:T("remove-liquidity"),method:function(){l.Z.goToRemoveLiquidity(),t(d.Z.manageLiquidity.navigateToRemoveLiquidity.replace(":id",null===e||void 0===e?void 0:e.tokenMinter))}}]:[]}),[t,e]);return(0,j.jsxs)(p.Fi,{children:[e&&(0,j.jsx)(i.Z,{items:y,action:k}),(0,j.jsxs)(s.Z5,{children:[(0,j.jsx)(s.AW,{path:d.Z.manageLiquidity.addLiquidity,element:(0,j.jsx)(R,{})}),(0,j.jsx)(s.AW,{path:d.Z.manageLiquidity.removeLiquidity,element:(0,j.jsx)(D,{})}),(0,j.jsx)(s.AW,{path:d.Z.manageLiquidity.tokens,element:(0,j.jsx)(c.n,{onTokenSelect:function(e){l.Z.selectTokenToManageLiquidity(e.displayName),t(d.Z.manageLiquidity.navigateToAddLiquidity.replace(":id",e.tokenMinter))},title:T("select-token-liquidity")})})]})]})}},70123:function(e,t,n){var i=n(64836);t.Z=void 0;var r=i(n(43563)),o=n(75859),a=(0,r.default)((0,o.jsx)("path",{d:"M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1z"}),"AddRounded");t.Z=a},99307:function(e,t,n){var i=n(64836);t.Z=void 0;var r=i(n(43563)),o=n(75859),a=(0,r.default)((0,o.jsx)("path",{d:"M18 13H6c-.55 0-1-.45-1-1s.45-1 1-1h12c.55 0 1 .45 1 1s-.45 1-1 1z"}),"RemoveRounded");t.Z=a}}]);