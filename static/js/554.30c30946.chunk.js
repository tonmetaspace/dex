"use strict";(self.webpackChunktonswap_web=self.webpackChunktonswap_web||[]).push([[554],{92066:function(e,n,r){var t=r(22112),a=r(75859);n.Z=function(e){var n=e.value,r=e.decimalScale,s=void 0===r?4:r,i=e.prefix;return n?(0,a.jsx)(t.Z,{prefix:i,displayType:"text",value:n,thousandSeparator:!0,decimalScale:s}):(0,a.jsx)(a.Fragment,{children:"0"})}},18062:function(e,n,r){var t=r(68963),a=r(42247),s=r(75174),i=r(51998),o=r(55204),c=r(97719),u=r(75859),l=(0,s.ZP)(o.Z)({"& &":{color:"white"},"& a":{color:"white"}});n.Z=function(){var e=(0,a.Ds)(),n=e.enqueueSnackbar,r=e.closeSnackbar;return{showNotification:(0,t.useCallback)((function(e){var t=e.message,a=e.variant,s=e.onClose,o=e.autoHideDuration,d=e.anchorOrigin,p=e.className,f=void 0===p?"":p,m=n((0,u.jsx)(l,{children:t}),{className:f,anchorOrigin:d,variant:a,autoHideDuration:o||5e3,onClose:s,onClick:function(){return r(m)},action:function(){return(0,u.jsx)(i.Z,{children:(0,u.jsx)(c.Z,{style:{width:20,height:20}})})}})}),[r,n])}}},12554:function(e,n,r){r.r(n),r.d(n,{default:function(){return P}});var t=r(74165),a=r(15861),s=r(29439),i=r(62399),o=r(39910),c=r(72305),u=r(68963),l=r(45022),d=r(18366),p=r(94659),f=(0,d.Z)(i.Z)({display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",paddingBottom:"100px",paddingTop:50,width:"100%","& .screen-title":{marginBottom:30}}),m=r(91478),h=r(55195),x=r(75859),Z=(0,d.Z)(i.Z)({width:"100%",marginBottom:20}),v=(0,d.Z)(i.Z)({"& p":{fontSize:12,color:"red",marginTop:5}}),w=function(e){var n=e.onSubmit,r=(0,u.useState)(""),i=(0,s.Z)(r,2),c=i[0],d=i[1],p=(0,u.useState)(!1),f=(0,s.Z)(p,2),w=f[0],g=f[1],k=(0,h.$)().t,b=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(r),48===r.length){e.next=3;break}return e.abrupt("return");case 3:try{l.Address.parse(r),n(r),w&&g(!1)}catch(t){g(!0)}case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,x.jsxs)(Z,{children:[(0,x.jsx)(m.Z,{className:"input",fullWidth:!0,label:"Enter jetton minter address",value:c,placeholder:"EQDrjaLahLkMB-hMCmkzOyBuHJ139ZUYmPHu6RRBKnbdLIYI",onChange:function(e){return b(e.target.value)},onFocus:function(){return g(!1)}}),w&&(0,x.jsx)(v,{children:(0,x.jsx)(o.Z,{children:k("invalid-address")})})]})},g=r(18740),k=r(99581),b=r(93431),y=r(80124),j=r(77563),C=r(45731),S=r(45523),A=r(18062),E=r(79869),D=r(39417),T=r(84596),q=r(31145);function I(){return(0,b.v9)((function(e){return e.createPool}))}var B=function(){var e=(0,b.I0)(),n=(0,g.Z)(),r=function(){var e=(0,A.Z)().showNotification,n=(0,u.useCallback)(function(){var n=(0,a.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r();case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),n.t0 instanceof Error&&e({message:n.t0.message,variant:"error"});case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}(),[e]);return{handleAsyncFunction:n}}(),s=r.handleAsyncFunction,i=(0,D.X$)(),o=i.adapterId,c=i.session,d=I(),p=d.jettonAddress,f=d.tokenData,m=(0,u.useCallback)((function(){e((0,q.oA)())}),[e]),h=(0,u.useCallback)(function(){var r=(0,a.Z)((0,t.Z)().mark((function r(i){var o;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=function(){var r=(0,a.Z)((0,t.Z)().mark((function r(){var a,s,o,c,u,d,p,f,m;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i){r.next=2;break}throw new Error("Address required");case 2:r.prev=2,l.Address.parse(i),r.next=9;break;case 6:throw r.prev=6,r.t0=r.catch(2),new Error("Invalid address");case 9:return a=l.Address.parse(i),r.next=12,(0,j.wl)(a);case 12:return s=r.sent,r.next=15,(0,C.J6)(a,0);case 15:if(o=r.sent,c=o.futureAddress,!o.isDeployed){r.next=25;break}u={name:s.name,ammMinter:c.toFriendly(),tokenMinter:i,color:(0,T.mr)(),displayName:s.name.toUpperCase(),image:s.image,isCustom:!0,decimals:s.decimals},e((0,E.Z)(u)),d="".concat(y.Z.manageLiquidity.navigateToAddLiquidity.replace(":id",i)),n(d),r.next=31;break;case 25:return r.next=27,(0,j.BX)(a);case 27:p=r.sent,f=(0,T.wE)(p.balance.toString(),p.decimals||9),m={balance:f,name:s.name,image:s.image,symbol:s.symbol,decimals:s.decimals},e((0,q.EC)(m));case 31:e((0,q.gF)(i));case 32:case"end":return r.stop()}}),r,null,[[2,6]])})));return function(){return r.apply(this,arguments)}}(),r.abrupt("return",s(o));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[s,e,n]),x=(0,u.useCallback)((0,a.Z)((0,t.Z)().mark((function r(){var i;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=function(){var r=(0,a.Z)((0,t.Z)().mark((function r(){var a,s,i,u;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(p){r.next=2;break}throw new Error("Jetton address missing");case 2:if(f){r.next=4;break}throw new Error("Jetton data missing");case 4:r.prev=4,l.Address.parse(p),r.next=11;break;case 8:throw r.prev=8,r.t0=r.catch(4),new Error("Invalid address");case 11:return r.next=13,(0,C._e)(l.Address.parse(p));case 13:if(a=r.sent){r.next=16;break}throw new Error("Transaction error");case 16:if(a&&!a.error){r.next=18;break}throw new Error(a.error);case 18:return s=(0,j.vE)(a.to),r.next=21,S.z.requestTransaction(o,c,a);case 21:return"string"==typeof(i=r.sent)&&k.tq&&(window.location.href=i),r.next=25,s();case 25:u={name:f.name,ammMinter:a.to,tokenMinter:p,decimals:9,color:(0,T.mr)(),displayName:f.symbol.toUpperCase(),image:f.image,isCustom:!0},e((0,E.Z)(u)),n("".concat(y.Z.manageLiquidity.navigateToAddLiquidity.replace(":id",p)));case 28:case"end":return r.stop()}}),r,null,[[4,8]])})));return function(){return r.apply(this,arguments)}}(),r.abrupt("return",s(i));case 2:case"end":return r.stop()}}),r)}))),[e,f,s,p,o,n,c]);return{onSubmit:h,deployPoolTx:x,clearStore:m}},N=r(92066),F=r(74650),L=(0,d.Z)(i.Z)({display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",width:"100%",maxWidth:400});var M=(0,d.Z)(i.Z)({display:"flex",alignItems:"center",gap:20,marginTop:20,marginBottom:40,"& .token-details-right":{},"& img":{height:"70px",width:"70px"},"& p":{fontSize:15}}),H=function(){var e=I().tokenData,n=(0,h.$)().t;return e?(0,x.jsxs)(M,{children:[(0,x.jsx)("img",{src:e.image,alt:""}),(0,x.jsxs)(i.Z,{className:"token-details-right",children:[(0,x.jsx)(o.Z,{children:n("token-name",{name:e.name})}),(0,x.jsxs)(o.Z,{children:[" ",n("my-balance")," ",(0,x.jsx)(N.Z,{value:e.balance})]})]})]}):null},P=function(){var e=(0,u.useState)(!1),n=(0,s.Z)(e,2),r=n[0],i=n[1],d=(0,u.useState)(!1),m=(0,s.Z)(d,2),Z=m[0],v=m[1],g=B(),k=g.onSubmit,b=g.deployPoolTx,y=g.clearStore,j=I(),C=j.tokenData,S=j.jettonAddress,A=(0,D.X$)().address,E=(0,F.mq)(),T=(0,h.$)().t,q=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,k(n);case 3:v(!1);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),N=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,b();case 3:i(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){y()}),[y]),(0,x.jsxs)(f,{children:[(0,x.jsx)(p.Z,{open:r,children:(0,x.jsx)(o.Z,{children:T("deploying-pool")})}),(0,x.jsx)(p.Z,{open:Z,children:(0,x.jsx)(o.Z,{children:T("loading")})}),(0,x.jsxs)(L,{children:[(0,x.jsx)(c.UH,{title:T("create-new-pool")}),(0,x.jsx)(w,{onSubmit:q}),(0,x.jsx)(H,{}),A?(0,x.jsxs)(c.Kk,{isDisabled:!(S.length&&l.Address.isFriendly(S)&&(null===C||void 0===C?void 0:C.name)),onClick:N,children:[T("deploy-pool")," \ud83d\ude80"]}):(0,x.jsx)(c.Kk,{onClick:E,children:T("connect-wallet")})]})]})}}}]);