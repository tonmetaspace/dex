"use strict";(self.webpackChunktonswap_web=self.webpackChunktonswap_web||[]).push([[45],{47144:function(e,n,t){var r=t(24866),a=t(2556);n.Z=function(e){var n=e.value,t=e.decimalScale,i=void 0===t?4:t,o=e.prefix;return n?(0,a.jsx)(r.Z,{prefix:o,displayType:"text",value:n,thousandSeparator:!0,decimalScale:i}):(0,a.jsx)(a.Fragment,{children:"0"})}},7726:function(e,n,t){var r=t(99135),a=t(2556);n.Z=function(e){var n=e.height,t=e.bgcolor,i=void 0===t?"rgba(255,255,255, 0.15)":t,o=e.variant,s=e.width,c=e.style,l=void 0===c?{}:c,u=e.borderRadius,d=void 0===u?6:u;return(0,a.jsx)(r.Z,{style:l,height:n,sx:{bgcolor:i,borderRadius:d},variant:o,width:s})}},84676:function(e,n,t){var r=t(17488),a=t(79832),i=t(63605),o=t(60140),s=t(77035),c=t(69328),l=t(34702),u=t(14862),d=t(2556),x=(0,i.ZP)(s.Z)({display:"flex",flexDirection:"column",alignItems:"center",gap:10});n.Z=function(e){var n=e.open,t=e.children,i=(0,u.X)().adapterId,s=!c.tq&&i===l.ht.TON_HUB;return(0,d.jsx)(r.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1},backdropFilter:"blur(5px) "},open:n,children:(0,d.jsxs)(x,{children:[(0,d.jsx)(a.Z,{color:"inherit"}),t,s&&(0,d.jsx)(o.Z,{children:"Please check tonhub wallet for pending notification"})]})})}},64514:function(e,n,t){var r=t(70885),a=t(60140),i=t(27671),o=t(77035),s=t(4519),c=t(14454),l=t(2556),u=(0,i.Z)(o.Z)({maxWidth:"320px",display:"flex",background:"rgba(118, 118, 128, 0.12)",borderRadius:8.91,height:32,marginLeft:"auto",marginRight:"auto",overflow:"auto",position:"relative",padding:2,width:"100%",marginTop:10,"::-webkit-scrollbar":{height:0,display:"none"}}),d=(0,i.Z)("a")({height:"100%",display:"flex",alignItems:"center",cursor:"pointer",zIndex:10,justifyContent:"center",p:{fontSize:13,pointerEvents:"none"}}),x=(0,i.Z)(o.Z)((function(e){return{transition:e.allowTransition?"0.2s all":"",position:"absolute",border:"0.5px solid rgba(0, 0, 0, 0.04)",boxShadow:" 0px 3px 8px rgba(0, 0, 0, 0.12), 0px 3px 1px rgba(0, 0, 0, 0.04)",borderRadius:6.93,height:"calc(100% - 4px)",top:"50%",transform:"translate(0, -50%)",pointerEvents:"none",background:"white"}}));var p=function(e){var n=e.width,t=e.item,r=e.onSelect,i=e.selected,o=e.index,c=e.symbol;(0,s.useEffect)((function(){i&&r(o)}),[i]);return(0,l.jsx)(d,{style:{width:n},onClick:function(){i||t.method()},children:(0,l.jsxs)(a.Z,{style:{fontWeight:500},children:[t.text," ",c]})})};n.Z=function(e){var n=e.items,t=e.action,a=e.symbol,i=(0,s.useState)(0),o=(0,r.Z)(i,2),d=o[0],h=o[1],f=(0,s.useState)(0),m=(0,r.Z)(f,2),g=m[0],Z=m[1],v=(0,s.useState)(!1),j=(0,r.Z)(v,2),b=j[0],k=j[1],w=(0,s.useRef)(),y=(0,s.useRef)(!0),T=(0,c.x)(),S=T.srcLoading,I=T.destLoading,N=function(e){if(y.current){var t=w.current.getBoundingClientRect().width/n.length-2;h(t*e+2),Z(t)}};(0,s.useEffect)((function(){return function(){y.current=!1}}),[]),(0,s.useEffect)((function(){b||setTimeout((function(){k(!0)}),500)}),[d]);var C=S||I;return(0,l.jsxs)(u,{ref:w,style:{pointerEvents:C?"none":"all"},children:[(0,l.jsx)(x,{allowTransition:b,style:{left:"".concat(d,"px"),width:"".concat(g,"px")}}),n.map((function(e,r){var i=t===e.text.toLowerCase();return(0,l.jsx)(p,{symbol:a,onSelect:N,selected:i,index:r,item:e,width:"calc(100% / ".concat(n.length,")")},e.text)}))]})}},53783:function(e,n,t){var r=t(30320),a=t(60140),i=t(42820),o=t(68541),s=t(2556),c=(0,i.Z)(r.Z)({display:"flex",justifyContent:"flex-start",alignItems:"center","& .token-name":{fontSize:14,fontWeight:600,marginLeft:10},"& .token-image":{width:20,height:20,objectFit:"contain"}});n.Z=function(e){var n=e.image,t=e.name;return(0,s.jsxs)(c,{className:"token-preview",children:[(0,s.jsx)("img",{className:"token-image",src:n||o}),(0,s.jsx)(a.Z,{className:"token-name",children:t.toUpperCase()})]})}},59341:function(e,n,t){var r=t(4519),a=t(78098),i=t(63605),o=t(28650),s=t(77035),c=t(4839),l=t(2556),u=(0,i.ZP)(s.Z)({"& &":{color:"white"},"& a":{color:"white"}});n.Z=function(){var e=(0,a.Ds)(),n=e.enqueueSnackbar,t=e.closeSnackbar;return{showNotification:(0,r.useCallback)((function(e){var r=e.message,a=e.variant,i=e.onClose,s=e.autoHideDuration,d=e.anchorOrigin,x=e.className,p=void 0===x?"":x,h=n((0,l.jsx)(u,{children:r}),{className:p,anchorOrigin:d,variant:a,autoHideDuration:s||5e3,onClose:i,onClick:function(){return t(h)},action:function(){return(0,l.jsx)(o.Z,{children:(0,l.jsx)(c.Z,{style:{width:20,height:20}})})}})}),[t,n])}}},3548:function(e,n,t){var r=t(4519),a=t(70332),i=t(66082),o=t(14454),s=t(27597),c=t(77116);n.Z=function(){var e=(0,a.UO)().id,n=(0,s._)().getTokenById,t=(0,o.O)().selectToken,l=(0,c.Z)();(0,r.useEffect)((function(){if(e){var r=n(e);r?t(r):l(i.Z.swap.navigateToTokens)}}),[e,l])}},88321:function(e,n,t){var r=t(88214),a=t(15861),i=t(70885),o=t(4519),s=t(90859);n.Z=function(e,n,t){var c=(0,o.useState)("0"),l=(0,i.Z)(c,2),u=l[0],d=l[1],x=(0,o.useState)(!1),p=(0,i.Z)(x,2),h=p[0],f=p[1],m=t&&t>0?t:300,g=(0,o.useRef)();return(0,o.useEffect)((function(){if(clearTimeout(g.current),!n||"0"===n)return f(!1),void d("0");f(!0),g.current=setTimeout((function(){(0,a.Z)((0,r.Z)().mark((function t(){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,s.w)(e,n);case 3:a=t.sent,d(a),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:return t.prev=9,f(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,7,9,12]])})))()}),m)}),[e,n,m]),{usd:u,loading:h}}},29703:function(e,n,t){t.d(n,{Z:function(){return he}});var r=t(88214),a=t(15861),i=t(30320),o=t(4519),s=t(97180),c=t(7096),l=t(4942),u=(0,t(1887).Z)((function(e){return{content:{flex:1,display:"flex",flexDirection:"column",width:"100%"},cards:{},button:(0,l.Z)({marginTop:"auto",width:"100%",marginBottom:30},e.breakpoints.down("sm"),{})}})),d=t(42264),x=t(24866),p=t(7726),h=t(27671),f=t(17213),m=t(2556),g=(0,h.Z)(i.Z)({height:"100%",width:"100%",position:"relative",display:"flex",alignItems:"center","& .MuiOutlinedInput-notchedOutline":{border:"none"}}),Z=(0,h.Z)(i.Z)({position:"absolute",left:15,top:"50%",transform:"translate(0, -50%)"});function v(e){var n=e.value,t=e.onChange,r=e.isLoading,a=e.placeholder;return(0,m.jsxs)(g,{className:"input-container",children:[r&&(0,m.jsx)(Z,{children:(0,m.jsx)(p.Z,{width:140,height:30,borderRadius:3})}),(0,m.jsx)(x.Z,{inputProps:{sx:{padding:0,border:"none",textIndent:"16px",background:"transparent"},inputMode:"decimal"},className:"input",placeholder:r?"":a,autoComplete:"off",value:r?"":n||"",customInput:d.Z,decimalScale:f.dg,decimalSeparator:".",thousandSeparator:",",onValueChange:function(e,n){var r=e.value;"prop"!==n.source&&(console.log(r),t("."===r?"0.":r))}})]})}var j=t(66082),b=(t(59687).Z,"ton"),k=t(77035),w=t(60140),y=t(31551),T=t(47144),S=(0,h.Z)(k.Z)({height:"100%",display:"flex",alignItems:"center",gap:5,marginRight:12}),I=(0,h.Z)("button")({background:"rgba(255,255,255, 0.1)",padding:"0px 10px",borderRadius:10,height:"100%",cursor:"pointer",p:{color:"white",fontSize:12,fontWeight:500}});var N=function(e){var n=e.loading,t=e.availableAmount,r=e.onMaxAmountClick,a=e.showMax;return(0,m.jsx)(S,{children:n?(0,m.jsx)(p.Z,{width:40,height:15,borderRadius:"4px"}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(w.Z,{component:"p",textAlign:"right",children:[(0,m.jsx)("strong",{children:"Balance: "}),console.log(t),(0,m.jsx)(T.Z,{value:t})]}),a&&r&&(0,m.jsx)(I,{onClick:r,children:(0,m.jsx)(w.Z,{children:" MAX"})})]})})},C=t(88321),A=(0,h.Z)(k.Z)({height:"100%"});var D=function(e){var n=e.tokenId,t=e.value,r=e.isLoading,a=(0,C.Z)(n,t),i=a.loading,o=a.usd;return(0,m.jsx)(A,{children:r||i?(0,m.jsx)(p.Z,{width:40,height:"15px",borderRadius:"4px"}):(0,m.jsxs)(w.Z,{component:"p",children:["~$",(0,m.jsx)(T.Z,{value:o,decimalScale:5})]})})},R=t(77116),L=t(55810),E=t(82278);var M=function(e){var n=e.inputAmount,t=e.onChange,r=e.token,a=e.isLoading,i=e.balanceLoading,o=e.balance,s=e.onMaxAmount,c=e.showMax,l=(0,L.Pt)(),u=(0,R.Z)(),d=(0,L.sy)().operationType,x=r.name===b;return(0,m.jsxs)(O,{className:"swap-card",children:[(0,m.jsx)(z,{color:r.color}),(0,m.jsxs)("div",{style:{position:"relative"},children:[(0,m.jsxs)(W,{expanded:l,children:[(0,m.jsx)(v,{placeholder:"0",isLoading:a,value:n,onChange:function(e){return t(e)}}),(0,m.jsxs)(B,{style:{cursor:x?"":"pointer",userSelect:x?"none":"all"},onClick:function(){x||(d===E.C8.SWAP?u(j.Z.swap.navigateToTokens):u(j.Z.manageLiquidity.navigateToTokens))},children:[r.image&&(0,m.jsx)(U,{src:r.image,alt:"token"}),(0,m.jsx)(w.Z,{className:"name",children:r.displayName}),!x&&(0,m.jsx)("div",{className:"arrow"})]})]}),(0,m.jsxs)(F,{children:[(0,m.jsx)(D,{isLoading:a,value:n,tokenId:r.tokenMinter}),(0,m.jsx)(N,{availableAmount:o,displayName:r.displayName,loading:i,onMaxAmountClick:s,showMax:c})]})]})]})},O=(0,h.Z)(k.Z)({borderRadius:12,padding:"18px",display:"flex",position:"relative",overflow:"hidden",flexDirection:"column"}),B=(0,h.Z)(k.Z)({padding:"0px 8px",display:"flex",alignItems:"center",gap:10,position:"relative",background:"rgba(255,255,255, 0.1)",borderRadius:12,height:"100%",boxShadow:"rgb(0 0 0 / 8%) 0px 6px 10px",".name":{maxWidth:70,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},".arrow":{width:7,height:7,borderLeft:"2px solid white",borderBottom:"2px solid white",transform:"rotate(-45deg)",position:"relative",top:"-2px"},p:{color:"white",fontSize:12,fontWeight:600}}),U=(0,h.Z)(y.Z)({width:24,height:24}),F=(0,h.Z)(k.Z)({display:"flex",justifyContent:"space-between",alignItems:"center",height:25,marginTop:10,p:{color:"white",fontSize:12,fontWeight:400}}),W=(0,h.Z)(k.Z)((function(e){var n=e.expanded;return{paddingRight:10,position:"relative",background:"rgba(255,255,255, 0.1)",width:"100%",borderRadius:"12px",display:"flex",alignItems:"center",height:n?54:42,padding:n?10:5,".input-container":{width:"100%",height:"100%",input:{color:"white",fontSize:29,fontWeight:600,height:"100%",paddingRight:10,textIndent:5}}}})),z=(0,h.Z)(k.Z)((function(e){return{background:e.color,width:"100%",position:"absolute",height:"100%",left:0,top:0,pointerEvents:"none",opacity:.93}})),P=t(14454),_=t(3822),Y=t(51469),q=t(88037),H=t(90859);var Q=function(e){var n=e.token,t=e.srcTokenName,i=e.getAmountFunc,s=(0,P.x)(),c=s.destTokenAmount,l=s.totalBalances,u=s.destLoading,d=s.destAvailableAmountLoading,x=s.inInput,p=(0,P.O)(),h=p.updateDestTokenAmount,f=p.updateSrcTokenAmount,g=p.updateSrcTokenLoading,Z=p.onInputChange,v=(0,o.useRef)(""),j=(0,q.Z)((0,a.Z)((0,r.Z)().mark((function e(){var a,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v.current){e.next=2;break}return e.abrupt("return");case 2:return a=0,o="ton"===t?n.tokenMinter:t,e.prev=4,e.next=7,(0,H.N)(o,"ton"!==t,null,(0,Y.toNano)(v.current||"0"),i);case 7:if(a=e.sent,v.current){e.next=10;break}return e.abrupt("return");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:if(e.prev=15,v.current){e.next=18;break}return e.abrupt("return");case 18:if(g(!1),0!==a){e.next=23;break}return e.abrupt("return");case 23:f((0,Y.fromNano)(a));case 24:return e.finish(15);case 25:case"end":return e.stop()}}),e,null,[[4,12,15,25]])}))),600),b=function(e){h(e),Z(_.jM.DEST),v.current=e,e?(g(!0),j()):(g(!1),f(""))};return(0,o.useEffect)((function(){c&&x===_.jM.DEST&&b(c)}),[]),(0,m.jsx)("div",{style:{marginBottom:35},children:(0,m.jsx)(M,{isLoading:u,onChange:b,inputAmount:c,token:n,balance:l.destBalance,balanceLoading:d})})},K=t(14862),V=function(e){var n=e.token,t=e.getAmountFunc,i=e.destTokenName,s=e.maxAmount,c=(0,P.x)(),l=c.srcTokenAmount,u=c.totalBalances,d=c.srcLoading,x=c.srcAvailableAmountLoading,p=c.inInput,h=(0,K.X)().address,f=(0,P.O)(),g=f.updateDestTokenAmount,Z=f.updateSrcTokenAmount,v=f.updateDestTokenLoading,j=f.onInputChange,b=(0,o.useRef)(""),k=(0,q.Z)((0,a.Z)((0,r.Z)().mark((function e(){var a,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.current){e.next=2;break}return e.abrupt("return");case 2:return a=0,o="ton"===n.name?i:n.tokenMinter,e.prev=4,e.next=7,(0,H.N)(o,"ton"!==n.name,(0,Y.toNano)(b.current||"0"),null,t);case 7:if(a=e.sent,b.current){e.next=10;break}return e.abrupt("return");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:if(e.prev=15,b.current){e.next=18;break}return e.abrupt("return");case 18:if(v(!1),0!==a){e.next=23;break}return e.abrupt("return");case 23:g((0,Y.fromNano)(a));case 24:return e.finish(15);case 25:case"end":return e.stop()}}),e,null,[[4,12,15,25]])}))),600),w=function(e){Z(e),j(_.jM.SOURCE),b.current=e,e&&0!==Number(e)?(v(!0),k()):(g(""),v(!1))};return(0,o.useEffect)((function(){l&&p===_.jM.SOURCE&&w(l)}),[]),(0,m.jsx)(M,{onMaxAmount:function(){return w(s)},isLoading:d,onChange:w,inputAmount:l,balance:u.srcBalance,token:n,balanceLoading:x,showMax:l!==s&&!!h})},X=t(91596),G=t(10968),J=(0,h.Z)(k.Z)((function(e){var n=e.color,t=e.expanded;return{marginLeft:"auto",marginRight:"auto",width:t?33:28,height:t?33:28,marginTop:8,borderRadius:"50%",marginBottom:8,display:"flex",alignItems:"center",justifyContent:"center","& svg":{width:"70%","& path":{fill:n}}}}));var $=function(e){var n=e.icon,t=e.color,r=(0,L.Pt)();return(0,m.jsx)(J,{color:t,expanded:r,children:n})},ee=t(76032),ne=t(64905),te=t(34702);var re=t.p+"static/media/success.79a5c2f6fcc496326c3a8261c4463432.svg";var ae=function(e){var n=e.actionType,t=(0,P.x)(),r=t.txConfirmation,a=t.txSuccess,i=(0,P.O)().closeSuccessModal,c=(0,o.useCallback)((function(){switch(n){case te.Us.BUY:return(0,m.jsxs)(ie,{title:"Purchase Confirmation",children:[(0,m.jsxs)(k.Z,{className:"row",children:[(0,m.jsxs)(w.Z,{children:[r.tokenName," Purchased"]}),(0,m.jsx)(w.Z,{children:r.destTokenAmount})]}),(0,m.jsxs)(k.Z,{className:"row",children:[(0,m.jsx)(w.Z,{children:"TON Paid "}),(0,m.jsx)(w.Z,{children:r.srcTokenAmount})]})]});case te.Us.SELL:return(0,m.jsxs)(ie,{title:"Purchase Confirmation",children:[(0,m.jsxs)(k.Z,{className:"row",children:[(0,m.jsxs)(w.Z,{children:[r.tokenName," Sold"]}),(0,m.jsx)(w.Z,{children:r.srcTokenAmount})]}),(0,m.jsxs)(k.Z,{className:"row",children:[(0,m.jsx)(w.Z,{children:"TON Received "}),(0,m.jsx)(w.Z,{children:r.destTokenAmount})]})]});case te.Us.REMOVE_LIQUIDITY:case te.Us.ADD_LIQUIDITY:return(0,m.jsxs)(ie,{title:"Purchase Confirmation",children:[(0,m.jsxs)(k.Z,{className:"row",children:[(0,m.jsx)(w.Z,{children:"SHIBA purchased"}),(0,m.jsx)(w.Z,{children:"0.74"})]}),(0,m.jsxs)(k.Z,{className:"row",children:[(0,m.jsx)(w.Z,{children:"TON Paid "}),(0,m.jsx)(w.Z,{children:"20"})]})]});default:return(0,m.jsx)(m.Fragment,{})}}),[n,r]);return(0,m.jsx)(s.GI,{open:a,onClose:i,maxWidth:400,children:c()})};function ie(e){var n=e.children,t=e.title;return(0,m.jsxs)(ce,{children:[(0,m.jsxs)(oe,{children:[(0,m.jsx)("img",{src:re,className:"icon"}),(0,m.jsx)(w.Z,{children:t})]}),(0,m.jsx)(se,{children:n})]})}var oe=(0,h.Z)(k.Z)({display:"flex",alignItems:"center",gap:22,flexDirection:"column","& p":{fontSize:19,fontWeight:500},"& .icon":{width:45,height:45,objectFit:"contain"}}),se=(0,h.Z)(k.Z)({display:"flex",flexDirection:"column",gap:13,width:"100%"}),ce=(0,h.Z)(k.Z)({display:"flex",flexDirection:"column",gap:19,alignItems:"center",width:"100%","& *":{color:"black"},"& p":{fontSize:14},"& .row":{display:"flex",gap:20,background:"#EEEEEE",borderRadius:12,height:49,width:"100%",alignItems:"center",justifyContent:"space-between",padding:"0px 20px"}}),le=t(59341);var ue=function(){var e=(0,le.Z)().showNotification,n=(0,P.x)().txError,t=(0,P.O)().hideTxError;(0,o.useEffect)((function(){n&&e({message:(0,m.jsx)(m.Fragment,{children:n}),variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:2e4,onClose:t})}),[n])};var de=function(e){var n=(0,P.x)().txConfirmation,t=n.srcTokenAmount,r=n.destTokenAmount,a=n.tokenName;return(0,o.useMemo)((function(){return e===te.Us.BUY?"Successfully swapped ".concat(t," TON for ").concat(r," ").concat(a):e===te.Us.SELL?"Successfully swapped ".concat(t," ").concat(a," for ").concat(r," TON"):e===te.Us.ADD_LIQUIDITY?"Successfully added ".concat(t," TON and ").concat(r," ").concat(a," liquidity"):e===te.Us.REMOVE_LIQUIDITY?"Successfully removed ".concat(t," TON and ").concat(r," ").concat(a," liquidity"):""}),[e,n])},xe=t(62822);var pe=function(e,n,t){var r=(0,P.x)(),a=r.totalBalances,i=r.srcTokenAmount,s=r.destTokenAmount,c=r.txPending;return(0,o.useMemo)((function(){var t=a.srcBalance,r=!i||"0"===i||!s||"0"===s||c,o=Number(n+.01).toFixed(2),l=!1;if(e===te.Us.BUY){var u=(0,xe.xI)(a.srcBalance).sub((0,xe.xI)(o));t=(0,Y.fromNano)(u),l=(0,xe.xI)(i).gt(u)}if(e===te.Us.SELL&&(l=(0,xe.xI)(i).gt((0,xe.xI)(a.srcBalance))),e===te.Us.ADD_LIQUIDITY){var d=(0,xe.xI)(a.srcBalance).sub((0,xe.xI)(o));t=(0,Y.fromNano)(d);var x=(0,xe.xI)(i).gt(d),p=(0,xe.xI)(s).gt((0,xe.xI)(a.destBalance));l=x||p}return te.Us.REMOVE_LIQUIDITY,{insufficientFunds:!r&&l,disabled:r,maxAmount:t}}),[t,i,n,a,s,e])},he=function(e){var n=e.srcToken,t=e.destToken,l=e.submitButtonText,d=e.icon,x=e.getBalances,p=e.getAmountFunc,h=e.getTxRequest,f=e.refreshAmountsOnActionChange,g=e.actionCategory,Z=e.actionType,v=e.gasFee,j=(0,L.Pt)(),b=u({color:(null===n||void 0===n?void 0:n.color)||"",expanded:j}),k=(0,P.x)().txPending,w=(0,L.mq)(),y=(0,K.X)(),T=y.address,S=y.adapterId,I=y.session;ue();var N=de(Z),C=pe(Z,v,n),A=C.insufficientFunds,D=C.disabled,R=C.maxAmount,E=(0,P.O)(),M=E.onResetAmounts,O=E.getTokensBalance,B=E.resetTokensBalance,U=E.sendTransaction,F=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return n=e.sent,e.next=5,(0,ne.GO)(ne.Lp.openWalletFromAddress({source:Y.Address.parse(T)}));case 5:return t=e.sent,e.next=8,X.z.requestTransaction(S,I,n);case 8:return e.next=10,t();case 10:ee.Z.sendEvent(g,Z,N),M(),O(x);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U(n);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){T&&f?O(x):T||B()}),[T]),(0,m.jsxs)(G.p7,{children:[(0,m.jsx)(ae,{actionType:Z}),(0,m.jsxs)(i.Z,{className:b.content,children:[(0,m.jsxs)(i.Z,{className:b.cards,style:{pointerEvents:k?"none":"all"},children:[(0,m.jsx)(V,{token:n,getAmountFunc:p,destTokenName:t.tokenMinter,maxAmount:R}),(0,m.jsx)($,{icon:d,color:t.color}),(0,m.jsx)(Q,{getAmountFunc:p,token:t,srcTokenName:n.tokenMinter})]}),(0,m.jsx)(i.Z,{className:b.button,children:T?A?(0,m.jsxs)(s.Kk,{isDisabled:D||A,onClick:function(){},children:[(0,m.jsx)(c.Z,{style:{color:"#7D7D7D",top:"-2px",position:"relative"}}),"Insufficient funds"]}):(0,m.jsx)(s.Kk,{isLoading:k,isDisabled:D||A,onClick:F,children:l}):(0,m.jsx)(s.Kk,{onClick:w,children:"Connect wallet"})})]})]})}},90859:function(e,n,t){t.d(n,{N:function(){return s},w:function(){return o}});var r=t(88214),a=t(15861),i=t(64905),o=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,t){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.mN(n,t);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return","0");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}(),s=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,t,a,i,o){var s,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(n),null==a){e.next=8;break}return e.next=4,o(n,t,a,null!=i?i:null);case 4:return s=e.sent,e.abrupt("return",s);case 8:if(null==i){e.next=13;break}return e.next=11,o(n,t,a,i.toString());case 11:return c=e.sent,e.abrupt("return",c);case 13:case"end":return e.stop()}}),e)})));return function(n,t,r,a,i){return e.apply(this,arguments)}}()},57104:function(e,n,t){t.d(n,{n:function(){return ae}});var r=t(70885),a=t(30320),i=t(97180),o=t(4942),s=t(31551),c=t(60140),l=t(1887),u=t(27671),d=t(77035),x=(0,l.Z)((function(e){return{root:(0,o.Z)({textAlign:"center",width:"100%",paddingBottom:50},e.breakpoints.down("sm"),{paddingBottom:30}),lists:{},list:{},token:{},menu:{borderRadius:"10px",padding:15,transition:"0.1s all"}}})),p=(0,u.Z)(s.Z)({width:43,height:43}),h=(0,u.Z)(d.Z)({marginLeft:"auto",opacity:.6}),f=(0,u.Z)(d.Z)((function(e){return{overflow:"hidden",position:"relative",transition:"0.2s all",background:e.color,borderRadius:12,display:"flex",gap:14,alignItems:"center",justifyContent:"flex-start",padding:"8px 20px 8px 14px","& p":{fontSize:14,fontWeight:500,color:"white"}}})),m=((0,u.Z)(d.Z)({width:"100%",height:"100%",borderRadius:12,borderSpacing:"20px",borderStyle:"dashed",borderWidth:"1px",borderColor:"rgba(0,0,0, 0.2)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer"}),(0,u.Z)(c.Z)({marginTop:20,fontWeight:500,fontSize:14}),(0,u.Z)(d.Z)({display:"flex",flexDirection:"column",alignItems:"flex-start","& .symbol":{fontWeight:500,fontSize:17},"& .name":{fontSize:12,opacity:.6,fontWeight:400}})),g=t(9538),Z=t(4519),v=t(47144),j=t(7726),b=t(17213),k=t(88321),w=t(2556),y=function(e){var n=e.token,t=e.onSelect,r=x(),a=n.isDisabled?"0":"1",i=(0,k.Z)(n.tokenMinter,a,0),o=i.loading,s=i.usd;return(0,w.jsxs)(f,{color:n.color,onClick:n.isDisabled?function(){}:t,className:r.token,style:{cursor:n.isDisabled?"":"pointer",opacity:n.isDisabled?.4:1},children:[n.image&&(0,w.jsx)(p,{src:n.image,alt:"token"}),(0,w.jsxs)(m,{children:[(0,w.jsxs)(c.Z,{className:"symbol",children:[n.displayName," ",n.isDisabled?b.u9:""]}),(0,w.jsx)(c.Z,{className:"name",children:n.name})]}),(0,w.jsx)(h,{children:n.isDisabled?null:o?(0,w.jsx)(j.Z,{borderRadius:"8px",width:40,height:20}):(0,w.jsx)(c.Z,{children:(0,w.jsx)(v.Z,{prefix:"$",value:s,decimalScale:7})})})]})},T=t(88214),S=t(1413),I=t(15861),N=t(42264),C=t(42820),A=t(51469),D=t(62822),R=t(64905),L=t(52169),E=t(53783),M=t(59687),O=t(20278),B=t(28650),U=t(17972),F=t.n(U),W=t(68984),z=t(59341),P=(0,C.Z)(a.Z)({display:"flex",flex:1,alignItems:"center","& a":{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",flex:1,paddingRight:30}}),_=function(e){var n=e.address,t=(0,z.Z)().showNotification;return(0,w.jsxs)(P,{className:"address",children:[(0,w.jsx)(O.Z,{href:"https://tonscan.org/address/".concat(n),target:"_blank",children:n}),(0,w.jsx)(F(),{text:n,onCopy:function(){t({message:(0,w.jsx)(w.Fragment,{children:"Address copied"}),variant:"success",autoHideDuration:4e3})},children:(0,w.jsx)(B.Z,{sx:{padding:0},children:(0,w.jsx)(W.Z,{style:{color:"#50A7EA",width:20,height:20}})})})]})},Y=t(84676),q=t(27597),H=(0,C.Z)(d.Z)({maxWidth:"500px",width:"100%",height:"auto",background:"white",marginLeft:"auto",marginRight:"auto",padding:20,display:"flex",flexDirection:"column"}),Q=((0,C.Z)(d.Z)({display:"flex",flexDirection:"column",gap:15,marginTop:30}),(0,C.Z)(c.Z)({fontSize:26,textAlign:"center",fontWeight:500,marginBottom:20})),K=(0,C.Z)(d.Z)({width:"100%",display:"flex",flexDirection:"column","& input":{}});var V=function(e){var n=e.open,t=e.onClose,a=(0,Z.useState)(!1),o=(0,r.Z)(a,2),s=o[0],l=o[1],u=(0,Z.useState)(),x=(0,r.Z)(u,2),p=x[0],h=x[1],f=(0,Z.useState)(),m=(0,r.Z)(f,2),g=m[0],v=m[1],j=(0,Z.useState)(!1),b=(0,r.Z)(j,2),k=b[0],y=b[1],C=(0,Z.useState)(""),O=(0,r.Z)(C,2),B=O[0],U=O[1],F=(0,z.Z)().showNotification,W=(0,q._)().addToken,P=function(){var e=(0,I.Z)((0,T.Z)().mark((function e(n){var t,r,a,i,o,s,c;return(0,T.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.target.value,U(t),48===t.length){e.next=4;break}return e.abrupt("return");case 4:e.prev=4,r=A.Address.parse(t),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(4),F({message:"Invalid address",variant:"error"}),e.abrupt("return");case 12:return e.prev=12,y(!0),e.next=16,(0,R.wl)(r);case 16:return a=e.sent,e.next=19,(0,L.J6)(t,0);case 19:if(i=e.sent,o=i.futureAddress,!(s=i.isDeployed)){e.next=27;break}return e.next=25,R.E3(o);case 25:c=e.sent,v({tokenReserves:parseFloat((0,A.fromNano)(c.tokenReserves)).toFixed(2),tonReserves:parseFloat((0,A.fromNano)(c.tonReserves)).toFixed(2)});case 27:h((0,S.Z)((0,S.Z)({},a),{},{tokenMinter:t,ammMinter:o.toFriendly()})),console.log(s),l(s),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(12),console.log(e.t1);case 35:return e.prev=35,y(!1),e.finish(35);case 38:case"end":return e.stop()}}),e,null,[[4,8],[12,32,35,38]])})));return function(n){return e.apply(this,arguments)}}();return(0,w.jsxs)(i.GI,{open:n,onClose:t,children:[(0,w.jsx)(Y.Z,{open:k,children:(0,w.jsx)(c.Z,{children:"Loading..."})}),(0,w.jsxs)(H,{children:[(0,w.jsx)(Q,{children:"Add custom token"}),(0,w.jsx)(K,{children:(0,w.jsx)(N.Z,{label:"Jetton address",onChange:P,value:B})}),p&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(X,{children:[(0,w.jsx)(E.Z,{name:p.name.toUpperCase(),image:p.image}),(0,w.jsxs)(G,{children:[(0,w.jsx)(J,{children:"Amm minter: "}),(0,w.jsx)(_,{address:p.ammMinter})]})]}),g&&(0,w.jsxs)(ee,{children:[(0,w.jsxs)(J,{children:["Pool Reservers ",p.name.toUpperCase(),"-TON"]}),(0,w.jsxs)($,{children:[(0,w.jsxs)(ne,{children:[(0,w.jsx)(E.Z,{name:p.name.toUpperCase(),image:p.image}),(0,w.jsx)(te,{children:(0,D.jS)(g.tokenReserves)})]}),(0,w.jsxs)(ne,{children:[(0,w.jsx)(E.Z,{name:"TON",image:M.Z}),(0,w.jsx)(te,{children:(0,D.jS)(g.tonReserves)})]})]})]})]}),(0,w.jsx)(d.Z,{marginTop:"50px",children:(0,w.jsx)(i.Kk,{isDisabled:!s,onClick:function(){p&&function(e){try{var n={name:e.name,ammMinter:e.ammMinter,tokenMinter:e.tokenMinter,color:(0,D.mr)(),displayName:e.symbol.toUpperCase(),image:e.image,isCustom:!0};W(n),t()}catch(r){}}(p)},children:"Add token"})})]})]})},X=(0,C.Z)(d.Z)({marginTop:30}),G=(0,C.Z)(d.Z)({marginTop:20}),J=(0,C.Z)(c.Z)({fontSize:16,fontWeight:500,marginBottom:10}),$=(0,C.Z)(d.Z)({display:"flex",flexDirection:"column",gap:20}),ee=(0,C.Z)(d.Z)({marginTop:20}),ne=(0,C.Z)(d.Z)({display:"flex",alignItems:"center"}),te=(0,C.Z)(d.Z)({marginLeft:10}),re=t(14454),ae=function(e){var n=e.title,t=e.onTokenSelect,o=x(),s=(0,Z.useState)(!1),c=(0,r.Z)(s,2),l=c[0],u=c[1],d=(0,re.O)().selectToken,p=(0,re.O)().clearStore,h=(0,q.u)().tokens;return(0,Z.useEffect)((function(){d(void 0),p()}),[]),(0,w.jsx)(g.Z,{in:!0,timeout:300,children:(0,w.jsxs)(a.Z,{className:o.root,children:[(0,w.jsx)(V,{open:l,onClose:function(){return u(!1)}}),(0,w.jsx)(oe,{children:(0,w.jsx)(i.Dx,{children:n})}),(0,w.jsx)(a.Z,{className:o.lists,children:(0,w.jsx)(ie,{children:h.map((function(e){return(0,w.jsx)(y,{onSelect:function(){return t(e.tokenMinter)},token:e},e.tokenMinter)}))})})]})})},ie=(0,u.Z)(a.Z)({display:"flex",flexDirection:"column",gap:11,maxWidth:380,marginLeft:"auto",marginRight:"auto",minHeight:300}),oe=(0,u.Z)(a.Z)({position:"sticky",top:54,background:"white",zIndex:1,paddingBottom:10})},68541:function(e,n,t){e.exports=t.p+"static/media/default-token-image.7f04508e9bb03b76f258.png"}}]);
//# sourceMappingURL=45.3ae028b2.chunk.js.map