"use strict";(self.webpackChunktonswap_web=self.webpackChunktonswap_web||[]).push([[960],{47960:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var i=t(30357),r=t(45366),o=t(18740),u=t(68963),a=t(78344),s=t(80124),c=t(30371),d=t(74650),l=t(88027),v=t(19867),f=t(71545),m=t(5922),p=t(88214),x=t(15861),Z=t(70885),k=t(71879),h=t(43217),T=t(77563),y=t(84672),g=t(75),A=t(70123),I=t(45022),q=t(87673),L=t(75859),j=function(){var e=(0,v.x)(),n=e.srcTokenAmount,t=e.destTokenAmount,i=e.selectedToken,r=(0,u.useState)(!1),o=(0,Z.Z)(r,2),a=o[0],s=o[1],c=(0,u.useState)(!0),d=(0,Z.Z)(c,2),l=d[0],f=d[1],m=function(){var e=(0,x.Z)((0,p.Z)().mark((function e(n,t,r,o){var u,a;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==i&&void 0!==i&&i.name){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,T.kI(null===i||void 0===i?void 0:i.tokenMinter);case 4:if("0"!=(u=e.sent).tokenReserves.toString()||"0"!=u.tonReserves.toString()){e.next=7;break}return e.abrupt("return",0);case 7:return e.next=9,T.hZ(n,t,r,o);case 9:return a=e.sent,e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(n,t,i,r){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){if(i){var e=function(){var e=(0,x.Z)((0,p.Z)().mark((function e(){var n;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.E3(I.Address.parse(i.ammMinter));case 3:n=e.sent,(0,I.fromNano)(n.tokenReserves),(0,I.fromNano)(n.tonReserves),n.tokenReserves.isZero()||n.tonReserves.isZero()||s(!0),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:return e.prev=11,f(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,9,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}}),[i]);return(0,y.Z)(),!i||l?(0,L.jsx)(q.Z,{}):(0,L.jsx)(h.Z,{icon:(0,L.jsx)(A.Z,{}),getAmountFunc:m,getBalances:function(){return Promise.all([T.gF(),T.yX(i)])},srcToken:k.nS,getTxRequest:function(){if(i)return T.El(null===i||void 0===i?void 0:i.tokenMinter,n,t)},destToken:i,submitButtonText:"Add TON/".concat(null===i||void 0===i?void 0:i.displayName," liquidity"),refreshAmountsOnActionChange:!0,actionCategory:g.hX.MANAGE_LIQUIDITY,actionType:g.Us.ADD_LIQUIDITY,gasFee:T.et.ADD_LIQUIDITY,disableInputDependency:!a})},R=t(99307),M=function(){var e=(0,v.x)(),n=e.srcTokenAmount,t=e.selectedToken;return(0,y.Z)(),t?(0,L.jsx)(h.Z,{icon:(0,L.jsx)(R.Z,{}),getTxRequest:function(){return T.WU(t.tokenMinter,n)},getAmountFunc:T.hZ,getBalances:function(){return T.xN(t.tokenMinter)},srcToken:k.nS,destToken:t,submitButtonText:"Remove TON/".concat(null===t||void 0===t?void 0:t.displayName," liquidity"),refreshAmountsOnActionChange:!0,actionCategory:g.hX.MANAGE_LIQUIDITY,actionType:g.Us.REMOVE_LIQUIDITY,gasFee:T.et.REMOVE_LIQUIDITY}):null};var b=function(){var e=(0,v.x)().selectedToken,n=(0,o.Z)(),t=(0,a.UO)(),p=(0,m.xB)(t),x=(0,d.Kr)().onOperationTypeChange;(0,r.Z)((function(){x(l.C8.MANAGE_LIQUIDITY)}));var Z=(0,u.useMemo)((function(){return e?[{text:"Add liquidity",method:function(){return n(s.Z.manageLiquidity.navigateToAddLiquidity.replace(":id",null===e||void 0===e?void 0:e.tokenMinter))}},{text:"Remove liquidity",method:function(){return n(s.Z.manageLiquidity.navigateToRemoveLiquidity.replace(":id",null===e||void 0===e?void 0:e.tokenMinter))}}]:[]}),[n,e]);return(0,L.jsxs)(f.Fi,{children:[e&&(0,L.jsx)(i.Z,{items:Z,action:p}),(0,L.jsxs)(a.Z5,{children:[(0,L.jsx)(a.AW,{path:s.Z.manageLiquidity.addLiquidity,element:(0,L.jsx)(j,{})}),(0,L.jsx)(a.AW,{path:s.Z.manageLiquidity.removeLiquidity,element:(0,L.jsx)(M,{})}),(0,L.jsx)(a.AW,{path:s.Z.manageLiquidity.tokens,element:(0,L.jsx)(c.n,{onTokenSelect:function(e){n(s.Z.manageLiquidity.navigateToAddLiquidity.replace(":id",e))},title:"Select a token to manage liquidity"})})]})]})}},70123:function(e,n,t){var i=t(64836);n.Z=void 0;var r=i(t(43563)),o=t(75859),u=(0,r.default)((0,o.jsx)("path",{d:"M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1z"}),"AddRounded");n.Z=u},99307:function(e,n,t){var i=t(64836);n.Z=void 0;var r=i(t(43563)),o=t(75859),u=(0,r.default)((0,o.jsx)("path",{d:"M18 13H6c-.55 0-1-.45-1-1s.45-1 1-1h12c.55 0 1 .45 1 1s-.45 1-1 1z"}),"RemoveRounded");n.Z=u}}]);